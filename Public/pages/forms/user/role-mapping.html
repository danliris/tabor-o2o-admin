<div ng-controller="UserRoleMappingController as main">
    <div class="box box-primary">
        <form role="form" name="brandForm">
            <div class="box-header with-border">
                <h3 class="box-title">Mapping Role</h3>
            </div>
            <div class="box-body row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-2" for="">Username</label>
                    <div class="col-sm-10"><input type="text" class="form-control" name="username" ng-model="main.user.username" placeholder="Code"
                            readonly></div>
                </div>
                <div class="col-sm-12 form-group">
                    <label class="col-sm-2" for="">Email</label>
                    <div class="col-sm-10"><input type="email" name="email" class="form-control" ng-model="main.user.email" placeholder="Name" readonly></div>
                </div>
                <div class="col-sm-12 form-group">
                    <label class="col-sm-2" for="">Role</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="role" autocomplete="off" ng-model="selectedRole" uib-typeahead="role as role.name for role in main.getRole($viewValue)"
                            typeahead-on-select="main.selectRole(selectedRole)" placeholder="Type Role" required>
                    </div>
                </div>
            </div>
            <!-- /.box-body -->

            <div class="box-body">
                <button type="submit" ng-click="main.saveRoleMapping()" class="btn btn-primary">Save</button>
            </div>
            <hr>
            <div class="box-header with-border">
                <h3 class="box-title">This user mapped to following Role:</h3>
            </div>
            <div class="box-body row">
                <div class="col-sm-12">
                    <table class="table table-bordered table-hovered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tr ng-repeat="role in main.mappedRole">
                            <td>{{role.role.name}}</td>
                            <td>
                                <button type="button" class="btn btn-xs btn-warning" ng-click="main.removeRole(role)"><i class="fa fa-times"></i></button>    
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </form>
    </div>
</div>